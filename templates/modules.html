{% extends "base.html" %}
{% block body %}
<!-- Modal Structure for adding a new topic -->
<div id="modal2" class="modal topicmodal">
  <div class="modal-content">
    <h4>Add A Topic</h4>  
<p>
      <form action="{{ url_for('add_topic') }}" method="POST">
        <br>
        <select id="subject" name="subject" required>
        <option value="" disabled selected>Choose the subject</option>
        {% for sub in subjectList %}
        <option value="{{sub.subject}}">{{sub.subject}}
        </option>
        {% endfor %}
        </select>
        <br><br>
        <div class="input-field">
          <br><br>
          <label for="subject_name">Topic Name</label>
          <input id="topic_name" name="topic" type="text" required>
          <button class="modal-close waves-effect waves-green btn-flat" type="submit">Add Topic</button>
        </div>
      </form>
    </p>
  </div>
</div>

<div class="container-fluid accordioncontainer">
  {% for subject in subjects %}
  <button class="accordion">{{subject.subject}}</button>
  <div class="accordion-content">
    <br>
    <div class="row">
      <div class="col-4">
        Topic Name
      </div>
      <div class="col-4">
        
      </div>
      <div class="col-4">
        <a class="modal-trigger tooltipped" data-position="bottom" data-tooltip="Add a topic" href="#modal2">
    <i class="small material-icons">add</i>
  </a>
      </div>
    </div>
    <hr>
    <br>
    {% for topic in topics %}
    {% if subject.subject == topic.subject %}
    <div class="row">
      <div class="col-4">
        <p>{{topic.topic}}</p>
      </div>
      <div class="col-4">
      </div>
      <div class="col-4">
        <a href="{{url_for('delete', topics_id=topic._id)}}" class = "tooltipped" data-position="bottom" data-tooltip="Delete Topic"><i class="small material-icons">delete</i></a>
      </div>
    </div>
    <hr>
    <br>
    {% endif %}
    {% endfor %}
  </div>
  {% endfor %}
</div>
<div class="fixed-action-btn">
  <a class="btn-floating btn-large red modal-trigger" href="#modal1" class = "tooltipped" data-position="bottom" data-tooltip="Delete Topic" >
    <i class="large material-icons">post_add</i>
  </a>
</div>
<!-- Modal Structure for adding a new subjects -->
<div id="modal1" class="modal subjectmodal">
  <div class="modal-content">
    <h4>Add A Subject</h4>
    <p>
      <form action="{{ url_for('add_subject') }}" method="POST">
        <div class="input-field">
          <br><br>
          <label for="subject_name">Subject Name</label>
          <input id="subjects" name="subjects" type="text" required>
        </div>
        <div class="modal-footer">
          <button class="modal-close waves-effect waves-green btn-flat" type="submit">Add Subject</button>
        </div>
      </form>
    </p>
  </div>
</div>
{% endblock %}
